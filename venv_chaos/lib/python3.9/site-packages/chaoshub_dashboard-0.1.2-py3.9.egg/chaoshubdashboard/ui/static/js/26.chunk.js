(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{181:function(t,s,a){"use strict";a.r(s);var e=a(1),o=a(2),n=a.n(o),o=a(7),r=a.n(o),o=e.a.extend({data:function(){return{context:null,matches:null,user:null}},created:function(){this.$nextTick(function(){this.getWorkspaceCollaborators()})},methods:{canAddcollaborators:function(){return this.isOwner()&&!this.isWorkspacePersonal()},isWorkspacePersonal:function(){return"personal"===this.context.workspace.type},isOwner:function(){return this.context.requested_by.workspace_owner},getWorkspaceCollaborators:function(){var s=this,t=this.$route.params.org,a=this.$route.params.workspace;n.a.get("/"+t+"/"+a+"/settings/collaborators",{headers:{Accept:"application/json"}}).then(function(t){s.context=t.data}).catch(function(t){r()({title:"Failed to retrieve collaborators!",text:t.message,buttonsStyling:!1,confirmButtonClass:"btn btn-primary"})})},findUser:function(){var s=this;s.matches=null,""!==s.user&&null!==s.user&&n.a.get("/users/lookup?user="+s.user,{headers:{Accept:"application/json"}}).then(function(t){s.matches=t.data}).catch(function(t){r()({title:"Failed to looking up users!",text:t.message,buttonsStyling:!1,confirmButtonClass:"btn btn-primary"})})},addUser:function(t){var s=this,a=this.$route.params.org,e=this.$route.params.workspace;n.a.post("/"+a+"/"+e+"/settings/collaborators",t,{headers:{Accept:"application/json"}}).then(function(t){t=t.data;""!=t&&null!=t&&s.context.collaborators.push(t)}).catch(function(t){r()({title:"Failed to add user to organization!",text:t.message,buttonsStyling:!1,confirmButtonClass:"btn btn-primary"})})},removeUser:function(t){var s=this,a=this.$route.params.org,e=this.$route.params.workspace;n.a.delete("/"+a+"/"+e+"/settings/collaborators/"+t.id,{headers:{Accept:"application/json"}}).then(function(t){s.getWorkspaceCollaborators()}).catch(function(t){r()({title:"Failed to remove user from organization!",text:t.message,buttonsStyling:!1,confirmButtonClass:"btn btn-primary"})})},asOwner:function(s){var t=this.$route.params.org,a=this.$route.params.workspace,e=Object.assign(s);e.workspace_owner=!0,n.a.patch("/"+t+"/"+a+"/settings/collaborators/"+e.id,e,{headers:{Accept:"application/json"}}).then(function(t){s.workspace_owner=!0}).catch(function(t){r()({title:"Failed to set user as organization owner!",text:t.message,buttonsStyling:!1,confirmButtonClass:"btn btn-primary"})})},asCollaborator:function(s){var t=this.$route.params.org,a=this.$route.params.workspace,e=Object.assign(s);e.workspace_owner=!1,n.a.patch("/"+t+"/"+a+"/settings/collaborators/"+s.id,e,{headers:{Accept:"application/json"}}).then(function(t){s.workspace_owner=!1}).catch(function(t){r()({title:"Failed to set user as workspace collaborator!",text:t.message,buttonsStyling:!1,confirmButtonClass:"btn btn-primary"})})}}}),e=a(6),a=Object(e.a)(o,function(){var a=this,t=a.$createElement,e=a._self._c||t;return a.context?e("div",{staticClass:"columns"},[a._m(0),a._v(" "),a._m(1),a._v(" "),a._m(2),a._v(" "),a._m(3),a._v(" "),a._m(4),a._v(" "),e("div",{staticClass:"column col-12"},[e("div",{staticClass:"columns"},[a._m(5),a._v(" "),e("div",{staticClass:"column col-9"},[a.context.collaborators?e("table",{staticClass:"table table-hover"},[e("tbody",a._l(a.context.collaborators,function(s){return e("tr",{key:s.id},[e("td",[e("div",{staticClass:"columns"},[e("div",{staticClass:"column col-4"},[e("strong",[a._v(a._s(s.profile.username))])]),a._v(" "),e("div",{staticClass:"column col-5"},[e("strong",[a._v(a._s(s.profile.name))])]),a._v(" "),e("div",{staticClass:"column col-2"},[s.workspace_owner?e("span",[a._v("Owner")]):e("span",[a._v("Collaborator")])]),a._v(" "),a.context.requested_by.workspace_owner?e("div",{staticClass:"column col-1"},[e("div",{staticClass:"dropdown"},[a._m(6,!0),a._v(" "),e("ul",{staticClass:"menu"},[e("li",{staticClass:"menu-item"},[s.workspace_owner?e("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),a.asCollaborator(s)}}},[a._v("Remove Ownership")]):e("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),a.asOwner(s)}}},[a._v("Make Organization Owner")])]),a._v(" "),e("li",{staticClass:"menu-item"},[e("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),a.removeUser(s)}}},[a._v("Remove from Workspace")])])])])]):a._e()])])])}),0)]):a._e(),a._v(" "),e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item page-prev"},[e("router-link",{attrs:{to:{name:"org_settings_collaborators",page:"collaborators.paging.prev"}}},[a.context.paging.prev?e("div",{staticClass:"page-item-subtitle"},[a._v("Previous")]):e("div",{staticClass:"page-item-subtitle disabled"},[a._v("Previous")])])],1),a._v(" "),e("li",{staticClass:"page-item page-next"},[e("router-link",{attrs:{to:{name:"org_settings_collaborators",page:"collaborators.paging.next"}}},[a.context.paging.next?e("div",{staticClass:"page-item-subtitle"},[a._v("Next")]):e("div",{staticClass:"page-item-subtitle disabled"},[a._v("Next")])])],1)])])])]),a._v(" "),a._m(7),a._v(" "),a.canAddcollaborators()?e("div",{staticClass:"column col-12"},[e("h6",[a._v("Add User as a Collaborator")]),a._v(" "),e("div",{staticClass:"divider col-11"}),a._v(" "),e("p",[a._v("\n        Add users to your workspace so they have access to all its experiments.\n    ")]),a._v(" "),e("form",{on:{submit:function(t){return t.preventDefault(),a.findUser.apply(null,arguments)}}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column col-9"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"user"}},[a._v("Name")]),a._v(" "),e("div",{staticClass:"has-icon-right"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:a.user,expression:"user",modifiers:{trim:!0}}],staticClass:"form-input",attrs:{type:"text",id:"user",placeholder:"Name"},domProps:{value:a.user},on:{input:function(t){t.target.composing||(a.user=t.target.value.trim())},blur:function(t){return a.$forceUpdate()}}}),a._v(" "),e("i",{staticClass:"form-icon icon icon-search c-hand",on:{click:a.findUser}})])]),a._v(" "),a.matches?e("ul",{staticClass:"menu"},[e("li",{staticClass:"menu-item"},[e("div",{staticClass:"tile tile-centered"},[e("div",{staticClass:"tile-content"},a._l(a.matches,function(s){return e("div",{key:s.id,staticClass:"columns col-oneline py-1"},[e("div",{staticClass:"column col-10 col-mx-auto"},[s.username?e("span",[a._v(a._s(s.username)+" - ")]):a._e(),a._v(" "),s.name?e("span",[a._v(a._s(s.name))]):a._e()]),a._v(" "),e("div",{staticClass:"column col-2"},[e("button",{staticClass:"float-right btn btn-sm btn-primary btn-action",on:{click:function(t){return t.preventDefault(),a.addUser(s)}}},[e("i",{staticClass:"icon icon-plus c-hand"})])])])}),0)])])]):a._e()])])])]):a._e()]):a._e()},[function(){var t=this,s=t.$createElement,s=t._self._c||s;return s("div",{staticClass:"column col-12"},[s("h5",[t._v("Workspace Collaborators")])])},function(){var t=this.$createElement,t=this._self._c||t;return t("div",{staticClass:"column col-12"},[t("div",{staticClass:"divider"})])},function(){var t=this.$createElement,t=this._self._c||t;return t("div",{staticClass:"column col-12"},[t("div",{staticClass:"p-2"})])},function(){var t=this,s=t.$createElement,s=t._self._c||s;return s("div",{staticClass:"column col-12 text-justify"},[s("p",[t._v("\n      Collaborators to workspace can perform operations on that workspace only.\n      Members of the workspace's organization have already access to the\n      workspace as members by default, you can turn any of these members into\n      a workspace owner for increased permissions.\n    ")])])},function(){var t=this,s=t.$createElement,s=t._self._c||s;return s("div",{staticClass:"column col-12"},[s("div",{staticClass:"p-2"}),t._v(" "),s("div",{staticClass:"p-2"}),t._v(" "),s("div",{staticClass:"p-2"})])},function(){var t=this,s=t.$createElement,s=t._self._c||s;return s("div",{staticClass:"column col-11"},[s("h6",[t._v("Collaborators")]),t._v(" "),s("div",{staticClass:"divider"})])},function(){var t=this.$createElement,t=this._self._c||t;return t("button",{staticClass:"btn btn-primary btn-action dropdown-toggle",attrs:{tabindex:"0"}},[t("i",{staticClass:"icon icon-caret"})])},function(){var t=this,s=t.$createElement,s=t._self._c||s;return s("div",{staticClass:"column col-12"},[s("div",{staticClass:"p-2"}),t._v(" "),s("div",{staticClass:"p-2"}),t._v(" "),s("div",{staticClass:"p-2"})])}],!1,null,null,null);s.default=a.exports}}]);