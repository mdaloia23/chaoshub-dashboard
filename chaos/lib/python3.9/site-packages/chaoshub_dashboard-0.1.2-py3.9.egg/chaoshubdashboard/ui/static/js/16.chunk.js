(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{172:function(s,e,t){var n={"./af":37,"./af.js":37,"./ar":38,"./ar-dz":39,"./ar-dz.js":39,"./ar-kw":40,"./ar-kw.js":40,"./ar-ly":41,"./ar-ly.js":41,"./ar-ma":42,"./ar-ma.js":42,"./ar-sa":43,"./ar-sa.js":43,"./ar-tn":44,"./ar-tn.js":44,"./ar.js":38,"./az":45,"./az.js":45,"./be":46,"./be.js":46,"./bg":47,"./bg.js":47,"./bm":48,"./bm.js":48,"./bn":49,"./bn-bd":50,"./bn-bd.js":50,"./bn.js":49,"./bo":51,"./bo.js":51,"./br":52,"./br.js":52,"./bs":53,"./bs.js":53,"./ca":54,"./ca.js":54,"./cs":55,"./cs.js":55,"./cv":56,"./cv.js":56,"./cy":57,"./cy.js":57,"./da":58,"./da.js":58,"./de":59,"./de-at":60,"./de-at.js":60,"./de-ch":61,"./de-ch.js":61,"./de.js":59,"./dv":62,"./dv.js":62,"./el":63,"./el.js":63,"./en-au":64,"./en-au.js":64,"./en-ca":65,"./en-ca.js":65,"./en-gb":66,"./en-gb.js":66,"./en-ie":67,"./en-ie.js":67,"./en-il":68,"./en-il.js":68,"./en-in":69,"./en-in.js":69,"./en-nz":70,"./en-nz.js":70,"./en-sg":71,"./en-sg.js":71,"./eo":72,"./eo.js":72,"./es":73,"./es-do":74,"./es-do.js":74,"./es-mx":75,"./es-mx.js":75,"./es-us":76,"./es-us.js":76,"./es.js":73,"./et":77,"./et.js":77,"./eu":78,"./eu.js":78,"./fa":79,"./fa.js":79,"./fi":80,"./fi.js":80,"./fil":81,"./fil.js":81,"./fo":82,"./fo.js":82,"./fr":83,"./fr-ca":84,"./fr-ca.js":84,"./fr-ch":85,"./fr-ch.js":85,"./fr.js":83,"./fy":86,"./fy.js":86,"./ga":87,"./ga.js":87,"./gd":88,"./gd.js":88,"./gl":89,"./gl.js":89,"./gom-deva":90,"./gom-deva.js":90,"./gom-latn":91,"./gom-latn.js":91,"./gu":92,"./gu.js":92,"./he":93,"./he.js":93,"./hi":94,"./hi.js":94,"./hr":95,"./hr.js":95,"./hu":96,"./hu.js":96,"./hy-am":97,"./hy-am.js":97,"./id":98,"./id.js":98,"./is":99,"./is.js":99,"./it":100,"./it-ch":101,"./it-ch.js":101,"./it.js":100,"./ja":102,"./ja.js":102,"./jv":103,"./jv.js":103,"./ka":104,"./ka.js":104,"./kk":105,"./kk.js":105,"./km":106,"./km.js":106,"./kn":107,"./kn.js":107,"./ko":108,"./ko.js":108,"./ku":109,"./ku.js":109,"./ky":110,"./ky.js":110,"./lb":111,"./lb.js":111,"./lo":112,"./lo.js":112,"./lt":113,"./lt.js":113,"./lv":114,"./lv.js":114,"./me":115,"./me.js":115,"./mi":116,"./mi.js":116,"./mk":117,"./mk.js":117,"./ml":118,"./ml.js":118,"./mn":119,"./mn.js":119,"./mr":120,"./mr.js":120,"./ms":121,"./ms-my":122,"./ms-my.js":122,"./ms.js":121,"./mt":123,"./mt.js":123,"./my":124,"./my.js":124,"./nb":125,"./nb.js":125,"./ne":126,"./ne.js":126,"./nl":127,"./nl-be":128,"./nl-be.js":128,"./nl.js":127,"./nn":129,"./nn.js":129,"./oc-lnc":130,"./oc-lnc.js":130,"./pa-in":131,"./pa-in.js":131,"./pl":132,"./pl.js":132,"./pt":133,"./pt-br":134,"./pt-br.js":134,"./pt.js":133,"./ro":135,"./ro.js":135,"./ru":136,"./ru.js":136,"./sd":137,"./sd.js":137,"./se":138,"./se.js":138,"./si":139,"./si.js":139,"./sk":140,"./sk.js":140,"./sl":141,"./sl.js":141,"./sq":142,"./sq.js":142,"./sr":143,"./sr-cyrl":144,"./sr-cyrl.js":144,"./sr.js":143,"./ss":145,"./ss.js":145,"./sv":146,"./sv.js":146,"./sw":147,"./sw.js":147,"./ta":148,"./ta.js":148,"./te":149,"./te.js":149,"./tet":150,"./tet.js":150,"./tg":151,"./tg.js":151,"./th":152,"./th.js":152,"./tk":153,"./tk.js":153,"./tl-ph":154,"./tl-ph.js":154,"./tlh":155,"./tlh.js":155,"./tr":156,"./tr.js":156,"./tzl":157,"./tzl.js":157,"./tzm":158,"./tzm-latn":159,"./tzm-latn.js":159,"./tzm.js":158,"./ug-cn":160,"./ug-cn.js":160,"./uk":161,"./uk.js":161,"./ur":162,"./ur.js":162,"./uz":163,"./uz-latn":164,"./uz-latn.js":164,"./uz.js":163,"./vi":165,"./vi.js":165,"./x-pseudo":166,"./x-pseudo.js":166,"./yo":167,"./yo.js":167,"./zh-cn":168,"./zh-cn.js":168,"./zh-hk":169,"./zh-hk.js":169,"./zh-mo":170,"./zh-mo.js":170,"./zh-tw":171,"./zh-tw.js":171};function r(s){s=a(s);return t(s)}function a(s){if(t.o(n,s))return n[s];throw(s=new Error("Cannot find module '"+s+"'")).code="MODULE_NOT_FOUND",s}r.keys=function(){return Object.keys(n)},r.resolve=a,(s.exports=r).id=172},180:function(s,e,t){"use strict";t.r(e);var n=t(1),r=t(2),a=t.n(r),r=t(7),o=t.n(r),i=t(36),r=n.a.extend({data:function(){return{context:null,workspace_error:null}},created:function(){this.$nextTick(function(){this.loadWorkspace()})},computed:{nameClass:function(){return{"form-input":!0,"is-error":this.hasError("name")}}},methods:{renderDate:function(s){if(null==s)return"-";s=i(s).calendar();return s.charAt(0).toLowerCase()+s.slice(1)},hasError:function(s){if(!this.workspace_error)return!1;for(var e=0,t=this.workspace_error.errors;e<t.length;e++)if(t[e].field==s)return!0;return!1},getErrorMessage:function(s){if(!this.workspace_error)return null;for(var e=0,t=this.workspace_error.errors;e<t.length;e++){var n=t[e];if(n.field==s)return n.message}return""},renameWorkspace:function(){var s,e=this,t=this.$route.params.org,n=this.$route.params.workspace;this.workspace_error=null,""==this.context.workspace.name||null===this.context.workspace.name?this.workspace_error={errors:[{field:"name",message:"Please provide a name"}]}:(this.workspace_error=null,s={name:e.context.workspace.name},a.a.patch("/"+t+"/"+n+"/settings/general/name",s,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(s){e.$router.push({name:"workspace_settings_general",params:{org:e.context.org.name,workspace:e.context.workspace.name}})}).catch(function(s){e.workspace_error=s.response.data}))},loadWorkspace:function(){var e=this,s=this.$route.params.org,t=this.$route.params.workspace;a.a.get("/"+s+"/"+t+"/settings/general",{headers:{Accept:"application/json"}}).then(function(s){e.context=s.data}).catch(function(s){o()({title:"Failed to retrieve your workspace!",text:s.message,buttonsStyling:!1,confirmButtonClass:"btn btn-primary"})})},deleteWorkspace:function(){var e=this,t=this.$route.params.org,n=this.$route.params.workspace;o()({title:"Are you sure you want to delete this workspace?",text:"Please enter the name of the workspace to acknowledge its deletion",input:"text",buttonsStyling:!1,confirmButtonClass:"btn btn-error"}).then(function(s){return s.value?a.a.delete("/"+t+"/"+n,{headers:{Accept:"application/json"}}).then(function(s){e.$router.push({name:"user_home"})}).catch(function(s){o()({title:"Failed to delete your workspace!",text:s.message,buttonsStyling:!1,confirmButtonClass:"btn btn-primary"})}):null})},canDeleteWorkspace:function(){return this.isOwner()&&!this.isWorkspacePersonal()},isWorkspacePersonal:function(){return"personal"===this.context.workspace.type},isOwner:function(){return this.context.requested_by.workspace_owner}}}),n=t(6),t=Object(n.a)(r,function(){var e=this,s=e.$createElement,s=e._self._c||s;return e.context?s("div",{staticClass:"columns"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e.isOwner()?[e._m(3),e._v(" "),s("div",{staticClass:"column col-12"},[s("h6",{staticClass:"text-error"},[e._v("Danger Zone")]),e._v(" "),s("div",{staticClass:"divider col-11"}),e._v(" "),s("form",{attrs:{id:"nameForm"}},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column col-9"},[s("p",[e._v("\n              You may rename your workspace but this has strong impacts since all existing links to it will be broken. So, be conservative\n              and considerate for your community.\n            ")]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.context.workspace.name,expression:"context.workspace.name",modifiers:{trim:!0}}],class:e.nameClass,attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:e.context.workspace.name},on:{input:function(s){s.target.composing||e.$set(e.context.workspace,"name",s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}}),e._v(" "),e.hasError("name")?s("p",{staticClass:"form-input-hint"},[e._v(e._s(e.getErrorMessage("name")))]):e._e()]),e._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"p-2"}),e._v(" "),s("button",{staticClass:"btn btn-error",on:{click:function(s){return s.preventDefault(),e.renameWorkspace.apply(null,arguments)}}},[e._v("Rename Workspace")])])])])]),e._v(" "),s("div",{staticClass:"p-2"}),e._v(" "),s("div",{staticClass:"p-2"}),e._v(" "),s("div",{staticClass:"p-2"}),e._v(" "),s("form",[s("div",{staticClass:"columns"},[e.canDeleteWorkspace()?s("div",{staticClass:"column col-9"},[s("p",[e._v("\n              You may delete your workspace and all its data will be then made unavailable to anyone. Be considerate and warn your community\n              before doing so.\n            ")]),e._v(" "),s("p",[e._v("\n              This process cannot be reversed.\n            ")]),e._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"p-2"}),e._v(" "),s("button",{staticClass:"btn btn-error",on:{click:function(s){return s.preventDefault(),e.deleteWorkspace.apply(null,arguments)}}},[e._v("Delete Workspace")])])]):s("div",{staticClass:"column col-9"},[s("p",[e._v("\n              Personal workspaces cannot be deleted and live as long as their organization lives.\n            ")])])])])])]:e._e()],2):e._e()},[function(){var s=this,e=s.$createElement,e=s._self._c||e;return e("div",{staticClass:"column col-12"},[e("h5",[s._v("General Settings")])])},function(){var s=this.$createElement,s=this._self._c||s;return s("div",{staticClass:"column col-12"},[s("div",{staticClass:"divider"})])},function(){var s=this.$createElement,s=this._self._c||s;return s("div",{staticClass:"column col-12"},[s("div",{staticClass:"p-2"})])},function(){var s=this.$createElement,s=this._self._c||s;return s("div",{staticClass:"column col-12"},[s("div",{staticClass:"p-2"})])}],!1,null,null,null);e.default=t.exports}}]);