(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{172:function(t,s,e){var r={"./af":37,"./af.js":37,"./ar":38,"./ar-dz":39,"./ar-dz.js":39,"./ar-kw":40,"./ar-kw.js":40,"./ar-ly":41,"./ar-ly.js":41,"./ar-ma":42,"./ar-ma.js":42,"./ar-sa":43,"./ar-sa.js":43,"./ar-tn":44,"./ar-tn.js":44,"./ar.js":38,"./az":45,"./az.js":45,"./be":46,"./be.js":46,"./bg":47,"./bg.js":47,"./bm":48,"./bm.js":48,"./bn":49,"./bn-bd":50,"./bn-bd.js":50,"./bn.js":49,"./bo":51,"./bo.js":51,"./br":52,"./br.js":52,"./bs":53,"./bs.js":53,"./ca":54,"./ca.js":54,"./cs":55,"./cs.js":55,"./cv":56,"./cv.js":56,"./cy":57,"./cy.js":57,"./da":58,"./da.js":58,"./de":59,"./de-at":60,"./de-at.js":60,"./de-ch":61,"./de-ch.js":61,"./de.js":59,"./dv":62,"./dv.js":62,"./el":63,"./el.js":63,"./en-au":64,"./en-au.js":64,"./en-ca":65,"./en-ca.js":65,"./en-gb":66,"./en-gb.js":66,"./en-ie":67,"./en-ie.js":67,"./en-il":68,"./en-il.js":68,"./en-in":69,"./en-in.js":69,"./en-nz":70,"./en-nz.js":70,"./en-sg":71,"./en-sg.js":71,"./eo":72,"./eo.js":72,"./es":73,"./es-do":74,"./es-do.js":74,"./es-mx":75,"./es-mx.js":75,"./es-us":76,"./es-us.js":76,"./es.js":73,"./et":77,"./et.js":77,"./eu":78,"./eu.js":78,"./fa":79,"./fa.js":79,"./fi":80,"./fi.js":80,"./fil":81,"./fil.js":81,"./fo":82,"./fo.js":82,"./fr":83,"./fr-ca":84,"./fr-ca.js":84,"./fr-ch":85,"./fr-ch.js":85,"./fr.js":83,"./fy":86,"./fy.js":86,"./ga":87,"./ga.js":87,"./gd":88,"./gd.js":88,"./gl":89,"./gl.js":89,"./gom-deva":90,"./gom-deva.js":90,"./gom-latn":91,"./gom-latn.js":91,"./gu":92,"./gu.js":92,"./he":93,"./he.js":93,"./hi":94,"./hi.js":94,"./hr":95,"./hr.js":95,"./hu":96,"./hu.js":96,"./hy-am":97,"./hy-am.js":97,"./id":98,"./id.js":98,"./is":99,"./is.js":99,"./it":100,"./it-ch":101,"./it-ch.js":101,"./it.js":100,"./ja":102,"./ja.js":102,"./jv":103,"./jv.js":103,"./ka":104,"./ka.js":104,"./kk":105,"./kk.js":105,"./km":106,"./km.js":106,"./kn":107,"./kn.js":107,"./ko":108,"./ko.js":108,"./ku":109,"./ku.js":109,"./ky":110,"./ky.js":110,"./lb":111,"./lb.js":111,"./lo":112,"./lo.js":112,"./lt":113,"./lt.js":113,"./lv":114,"./lv.js":114,"./me":115,"./me.js":115,"./mi":116,"./mi.js":116,"./mk":117,"./mk.js":117,"./ml":118,"./ml.js":118,"./mn":119,"./mn.js":119,"./mr":120,"./mr.js":120,"./ms":121,"./ms-my":122,"./ms-my.js":122,"./ms.js":121,"./mt":123,"./mt.js":123,"./my":124,"./my.js":124,"./nb":125,"./nb.js":125,"./ne":126,"./ne.js":126,"./nl":127,"./nl-be":128,"./nl-be.js":128,"./nl.js":127,"./nn":129,"./nn.js":129,"./oc-lnc":130,"./oc-lnc.js":130,"./pa-in":131,"./pa-in.js":131,"./pl":132,"./pl.js":132,"./pt":133,"./pt-br":134,"./pt-br.js":134,"./pt.js":133,"./ro":135,"./ro.js":135,"./ru":136,"./ru.js":136,"./sd":137,"./sd.js":137,"./se":138,"./se.js":138,"./si":139,"./si.js":139,"./sk":140,"./sk.js":140,"./sl":141,"./sl.js":141,"./sq":142,"./sq.js":142,"./sr":143,"./sr-cyrl":144,"./sr-cyrl.js":144,"./sr.js":143,"./ss":145,"./ss.js":145,"./sv":146,"./sv.js":146,"./sw":147,"./sw.js":147,"./ta":148,"./ta.js":148,"./te":149,"./te.js":149,"./tet":150,"./tet.js":150,"./tg":151,"./tg.js":151,"./th":152,"./th.js":152,"./tk":153,"./tk.js":153,"./tl-ph":154,"./tl-ph.js":154,"./tlh":155,"./tlh.js":155,"./tr":156,"./tr.js":156,"./tzl":157,"./tzl.js":157,"./tzm":158,"./tzm-latn":159,"./tzm-latn.js":159,"./tzm.js":158,"./ug-cn":160,"./ug-cn.js":160,"./uk":161,"./uk.js":161,"./ur":162,"./ur.js":162,"./uz":163,"./uz-latn":164,"./uz-latn.js":164,"./uz.js":163,"./vi":165,"./vi.js":165,"./x-pseudo":166,"./x-pseudo.js":166,"./yo":167,"./yo.js":167,"./zh-cn":168,"./zh-cn.js":168,"./zh-hk":169,"./zh-hk.js":169,"./zh-mo":170,"./zh-mo.js":170,"./zh-tw":171,"./zh-tw.js":171};function a(t){t=n(t);return e(t)}function n(t){if(e.o(r,t))return r[t];throw(t=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",t}a.keys=function(){return Object.keys(r)},a.resolve=n,(t.exports=a).id=172},178:function(t,s,e){"use strict";e.r(s);var r=e(1),a=e(2),n=e.n(a),a=e(7),o=e.n(a),i=e(36),a=r.a.extend({data:function(){return{org:null,org_error:null,org_settings_edited:!1}},created:function(){this.$nextTick(function(){this.loadOrg()})},computed:{nameClass:function(){return{"form-input":!0,"is-error":this.hasError("name")}}},methods:{renderDate:function(t){if(null==t)return"-";t=i(t).calendar();return t.charAt(0).toLowerCase()+t.slice(1)},hasError:function(t){if(!this.org_error)return!1;for(var s=0,e=this.org_error.errors;s<e.length;s++)if(e[s].field==t)return!0;return!1},getErrorMessage:function(t){if(!this.org_error)return null;for(var s=0,e=this.org_error.errors;s<e.length;s++){var r=e[s];if(r.field==t)return r.message}return""},renameOrg:function(){var t,s=this,e=this.$route.params.org;this.org_error=null,""==this.org.org.name||null===this.org.org.name?this.org_error={errors:[{field:"name",message:"Please provide a name"}]}:(this.org_error=null,t={name:s.org.org.name},n.a.patch("/"+e+"/settings/general/name",t,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){s.$router.push({name:"org_settings_general",params:{org:s.org.org.name}})}).catch(function(t){s.org_error=t.response.data}))},loadOrg:function(){var s=this,t=this.$route.params.org;n.a.get("/"+t+"/settings/general",{headers:{Accept:"application/json"}}).then(function(t){s.org=t.data}).catch(function(t){o()({title:"Failed to retrieve your organization!",text:t.message,buttonsStyling:!1,confirmButtonClass:"btn btn-primary"})})},deleteOrg:function(){var s=this,e=this.$route.params.org;o()({title:"Are you sure you want to delete this organization?",text:"Please enter the name of your organization to acknowledge its deletion",input:"text",buttonsStyling:!1,confirmButtonClass:"btn btn-error"}).then(function(t){return t.value?n.a.delete("/"+e,{headers:{Accept:"application/json"}}).then(function(t){s.$router.push({name:"user_home"})}).catch(function(t){o()({title:"Failed to delete your organization!",text:t.message,buttonsStyling:!1,confirmButtonClass:"btn btn-primary"})}):null})},updateOrgInfo:function(){var s=this,t=this.$route.params.org;n.a.patch("/"+t+"/settings/general/details",s.org.org.settings,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){s.org_settings_edited=!0}).catch(function(t){s.org_error=t.response.data})},canDeleteOrg:function(){return this.isOwner()&&!this.isOrgPersonal()},isOrgPersonal:function(){return"personal"===this.org.org.type},isOwner:function(){return this.org.requested_by.org_owner}}}),r=e(6),e=Object(r.a)(a,function(){var s=this,t=s.$createElement,t=s._self._c||t;return s.org?t("div",{staticClass:"columns"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s.org.org.settings.meta?[t("div",{staticClass:"column col-12"},[s.org.org.settings.meta.description?t("span",{staticClass:"text-gray"},[s._v(s._s(s.org.org.settings.meta.description))]):s._e()]),s._v(" "),t("div",{staticClass:"column col-6"},[s.org.org.settings.meta.email?t("a",{staticClass:"text-gray",attrs:{href:"mailto:"+s.org.org.settings.meta.email}},[t("small",[t("i",{staticClass:"icon icon-mail"}),s._v(" "+s._s(s.org.org.settings.meta.email))])]):s._e(),s._v(" "),t("span",{staticClass:"px-2"}),s._v(" "),s.org.org.settings.meta.url?t("a",{staticClass:"text-gray",attrs:{href:s.org.org.settings.meta.url}},[t("small",[t("i",{staticClass:"icon icon-link"}),s._v(" "+s._s(s.org.org.settings.meta.url))])]):s._e()])]:s._e(),s._v(" "),t("div",{staticClass:"column col-12 text-justify"},[t("p",[s._v("\n      This organization was created "+s._s(s.renderDate(s.org.org.created_on))+" and contains\n      "),0==s.org.org.workspaces.length?[s._v("\n        no workspaces.\n      ")]:1==s.org.org.workspaces.length?[s._v("\n        a\n        "),t("a",{attrs:{href:"/account/workspaces"}},[s._v("single workspace")]),s._v(".\n      ")]:[t("a",{attrs:{href:"/account/workspaces"}},[s._v(s._s(s.org.org.workspaces.length)+" workspaces")]),s._v(".\n      ")],s._v(" "),s.org.requested_by.org_owner?[s._v("\n        You may\n        "),t("a",{attrs:{href:"/account/workspaces"}},[s._v("add new workspaces")]),s._v(".\n      ")]:s._e()],2)]),s._v(" "),s.isOwner()?[s._m(2),s._v(" "),t("div",{staticClass:"column col-12"},[t("h6",[s._v("Information")]),s._v(" "),t("div",{staticClass:"divider col-11"}),s._v(" "),t("form",{attrs:{id:"nameForm"}},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column col-9"},[t("p",[s._v("\n              You may rename your organization but this has strong impacts since all existing links to it will be broken. So, be conservative\n              and considerate for your community.\n            ")]),s._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"name"}},[s._v("Name")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.org.org.name,expression:"org.org.name",modifiers:{trim:!0}}],class:s.nameClass,attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:s.org.org.name},on:{input:function(t){t.target.composing||s.$set(s.org.org,"name",t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),s._v(" "),s.hasError("name")?t("p",{staticClass:"form-input-hint"},[s._v(s._s(s.getErrorMessage("name")))]):s._e()]),s._v(" "),t("div",{staticClass:"form-group"},[t("div",{staticClass:"p-2"}),s._v(" "),t("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),s.renameOrg.apply(null,arguments)}}},[s._v("Rename Organization")])])])])]),s._v(" "),t("div",{staticClass:"p-2"}),s._v(" "),t("form",{attrs:{id:"detailsForm"}},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column col-9"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"desc"}},[s._v("Description")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.org.org.settings.meta.description,expression:"org.org.settings.meta.description",modifiers:{trim:!0}}],staticClass:"form-input",attrs:{type:"text",id:"desc",placeholder:"Short description"},domProps:{value:s.org.org.settings.meta.description},on:{input:function(t){t.target.composing||s.$set(s.org.org.settings.meta,"description",t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}})]),s._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"url"}},[s._v("URL")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.org.org.settings.meta.url,expression:"org.org.settings.meta.url",modifiers:{trim:!0}}],staticClass:"form-input",attrs:{type:"text",id:"url",placeholder:"URL"},domProps:{value:s.org.org.settings.meta.url},on:{input:function(t){t.target.composing||s.$set(s.org.org.settings.meta,"url",t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}})]),s._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"email"}},[s._v("Contact")]),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.org.org.settings.meta.email,expression:"org.org.settings.meta.email",modifiers:{trim:!0}}],staticClass:"form-input",attrs:{type:"email",id:"email",placeholder:"Contact email"},domProps:{value:s.org.org.settings.meta.email},on:{input:function(t){t.target.composing||s.$set(s.org.org.settings.meta,"email",t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}})]),s._v(" "),t("div",{staticClass:"form-group"},[s.org_settings_edited?t("div",{staticClass:"toast toast-success"},[t("button",{staticClass:"btn btn-clear float-right",on:{click:function(t){t.preventDefault(),s.org_settings_edited=!1}}}),s._v("\n                Details have been updated.\n              ")]):s._e(),s._v(" "),t("div",{staticClass:"p-2"}),s._v(" "),t("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),s.updateOrgInfo.apply(null,arguments)}}},[s._v("Update Details")])])])])])]),s._v(" "),s._m(3),s._v(" "),t("div",{staticClass:"column col-12"},[t("h6",{staticClass:"text-error"},[s._v("Danger Zone")]),s._v(" "),t("div",{staticClass:"divider col-11"}),s._v(" "),t("form",[t("div",{staticClass:"columns"},[s.canDeleteOrg()?t("div",{staticClass:"column col-9"},[t("p",[s._v("\n              You may delete your organization and all its data will be then made unavailable to anyone. Be considerate and warn your community\n              before doing so.\n            ")]),s._v(" "),t("p",[s._v("\n              This process cannot be reversed.\n            ")]),s._v(" "),t("div",{staticClass:"form-group"},[t("div",{staticClass:"p-2"}),s._v(" "),t("button",{staticClass:"btn btn-error",on:{click:function(t){return t.preventDefault(),s.deleteOrg.apply(null,arguments)}}},[s._v("Delete Organization")])])]):t("div",{staticClass:"column col-9"},[t("p",[s._v("\n              Personal organizations cannot be deleted and live as long as your account lives.\n            ")])])])])])]:s._e()],2):s._e()},[function(){var t=this,s=t.$createElement,s=t._self._c||s;return s("div",{staticClass:"column col-12"},[s("h5",[t._v("General Settings")])])},function(){var t=this.$createElement,t=this._self._c||t;return t("div",{staticClass:"column col-12"},[t("div",{staticClass:"divider"})])},function(){var t=this.$createElement,t=this._self._c||t;return t("div",{staticClass:"column col-12"},[t("div",{staticClass:"p-2"})])},function(){var t=this,s=t.$createElement,s=t._self._c||s;return s("div",{staticClass:"column col-12"},[s("div",{staticClass:"p-2"}),t._v(" "),s("div",{staticClass:"p-2"}),t._v(" "),s("div",{staticClass:"p-2"})])}],!1,null,null,null);s.default=e.exports}}]);